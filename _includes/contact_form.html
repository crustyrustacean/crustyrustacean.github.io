<form
  id="contact-form"
  class="contact-form"
  action="https://formspree.io/f/xwpqjnkj"
  method="POST"
  novalidate
>
  <div class="form-group">
    <label for="email">Your email</label>
    <input type="email" id="email" name="email" required autocomplete="email" />
  </div>

  <div class="form-group">
    <label for="message">Your message</label>
    <textarea id="message" name="message" rows="6" required></textarea>
  </div>

  <!-- Simple spam honeypot (hidden field) -->
  <input type="text" name="_gotcha" class="hp" tabindex="-1" autocomplete="off" />

  <button type="submit" id="submit-btn">Send</button>

  <!-- Live region for inline status messages -->
  <p id="form-status" class="form-status" role="status" aria-live="polite"></p>
</form>

<script>
(function () {
  const form = document.getElementById('contact-form');
  const status = document.getElementById('form-status');
  const btn = document.getElementById('submit-btn');

  form.addEventListener('submit', async (e) => {
    e.preventDefault();

    // basic client validation feedback
    if (!form.checkValidity()) {
      status.textContent = 'Please fill in all required fields.';
      return;
    }

    status.textContent = '';
    btn.disabled = true;
    btn.textContent = 'Sendingâ€¦';

    try {
      const formData = new FormData(form);
      const res = await fetch(form.action, {
        method: 'POST',
        body: formData,
        headers: { Accept: 'application/json' }
      });

      if (res.ok) {
        status.textContent = 'Thanks! Your message has been sent.';
        form.reset();
      } else {
        // Try to read Formspree error details
        let msg = 'Oops, something went wrong. Please try again.';
        try {
          const data = await res.json();
          if (data && data.errors) {
            msg = data.errors.map((e) => e.message).join(' ');
          }
        } catch (_) {}
        status.textContent = msg;
      }
    } catch (err) {
      status.textContent = 'Network error. Please try again.';
    } finally {
      btn.disabled = false;
      btn.textContent = 'Send';
    }
  });
})();
</script>


